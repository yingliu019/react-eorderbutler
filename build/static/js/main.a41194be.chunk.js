(this["webpackJsonpeob-web"]=this["webpackJsonpeob-web"]||[]).push([[0],{136:function(e,t,a){e.exports=a.p+"static/media/EOB.99277250.png"},147:function(e,t,a){e.exports=a.p+"static/media/EOB.0f1b24c2.svg"},156:function(e,t,a){e.exports=a(317)},161:function(e,t,a){},163:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),s=a.n(l),o=(a(161),a(5)),c=a(6),i=a(12),u=a(9),m=a(8),d=a(24),h=a(13),p=(a(162),a(163),a(14)),g=a.n(p),E="http://54.84.55.238/eOrderButler/",v=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(e,t){return g.a.post(E+"login",{username:e,password:t}).then((function(e){return localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,a){return g.a.post(E+"signup",{username:e,email:t,password:a})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),f=a(65),b=a.n(f),O=a(42),N=a.n(O),y=a(66),j=a.n(y),w=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(i.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(i.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(i.a)(n)),n.state={username:"",password:"",loading:!1,message:""},n}return Object(c.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?v.login(this.state.username,this.state.password).then((function(){t.props.history.push("/profile"),window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:a})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card card-container"},r.a.createElement("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),r.a.createElement(b.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(N.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[w]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(N.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[w]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.state.loading},this.state.loading&&r.a.createElement("span",{className:"spinner-border spinner-border-sm"}),r.a.createElement("span",null,"Login"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(j.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))}}]),a}(n.Component),C=a(135),S=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},P=function(e){if(!Object(C.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},I=function(e){if(e.length<3||e.length>20)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The username must be between 3 and 20 characters.")},B=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleRegister=n.handleRegister.bind(Object(i.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(i.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(i.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(i.a)(n)),n.state={username:"",email:"",password:"",successful:!1,message:""},n}return Object(c.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&v.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.message,successful:!0})}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card card-container"},r.a.createElement("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),r.a.createElement(b.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t}},!this.state.successful&&r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(N.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[S,I]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement(N.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[S,P]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(N.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[S,B]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block"},"Sign Up"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(j.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))}}]),a}(n.Component),x=a(136),D=a.n(x);function U(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var T="http://54.84.55.238/eOrderButler/",M=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"getPublicContent",value:function(){return g.a.get(T+"all")}},{key:"getUserBoard",value:function(){return g.a.get(T+"user",{headers:U()})}},{key:"getModeratorBoard",value:function(){return g.a.get(T+"mod",{headers:U()})}},{key:"getAdminBoard",value:function(){return g.a.get(T+"admin",{headers:U()})}},{key:"getAllShoppingOrders",value:function(){return g.a.get(T+"getAllShoppingOrders",{headers:U()})}}]),e}()),R=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"eobpngstyle"},r.a.createElement("img",{src:D.a,width:"1100"})),r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h2",null,"Welcome to E-order Butler! "),r.a.createElement("h4",null,"You can now easily track everything your purchase online!"))))}}]),a}(n.Component),L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={currentUser:v.getCurrentUser()},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.currentUser;return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,r.a.createElement("strong",null,"Hello ",e.username)," :)")))}}]),a}(n.Component),F=(n.Component,n.Component,n.Component,a(40)),_=a.n(F),J=a(67),H=a(101),$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.PostData;return r.a.createElement("table",{className:"myFormat table table-bordered table-striped table-wrapper-scroll-y my-custom-scrollbar"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Merchant"),r.a.createElement("th",null,"Order Number"),r.a.createElement("th",null,"Total Price ($)"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,e.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,new Date(e.date).toISOString().slice(0,10)),r.a.createElement("td",null,e.merchant),r.a.createElement("td",null,e.orderNumber),r.a.createElement("td",null,e.totalPrice),r.a.createElement("td",null,e.status))}))))}}]),a}(n.Component),q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={userInput:""},n.handleInputChange=n.handleInputChange.bind(Object(i.a)(n)),n.handleAdd=n.handleAdd.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"handleInputChange",value:function(e){this.setState({userInput:e.target.value}),console.log(this.state.userInput)}},{key:"handleAdd",value:function(){var e=this.state.userInput;e&&this.props.handleAddTodo(e),this.setState({userInput:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{onChange:this.handleInputChange,value:this.state.userInput,type:"text",className:"form-control",placeholder:"Add Order URL","aria-label":"Recipient's username","aria-describedby":"basic-addon2"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{onClick:this.handleAdd,className:"btn btn-secondary add-button",type:"button"},"Add")))}}]),a}(r.a.Component),z=a(353),W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSearch=function(e){g.a.get("http://54.84.55.238/eOrderButler/search/"+e,{headers:U()}).then((function(t){console.log(t),n.setState({dataSource:e?t.data.map((function(e,t){return{itemMerchant:e.merchant,orderId:e.orderId}})):[]}).catch((function(e){console.log(e)}))}))},n.state={userInput:""},n.handleSearch=n.handleSearch.bind(Object(i.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(i.a)(n)),n.handleEnter=n.handleEnter.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"handleInputChange",value:function(e){this.setState({userInput:e.target.value}),console.log(this.state.userInput)}},{key:"handleEnter",value:function(){var e=this.state.userInput;e&&this.props.handlePressEnter(e),this.setState({userInput:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"search-bar"},r.a.createElement(z.a,{onChange:this.handleInputChange,value:this.state.userInput,onPressEnter:this.handleEnter,type:"text",className:"form-control",placeholder:"Search Item Here","aria-label":"Recipient's username","aria-describedby":"basic-addon2"}))}}]),a}(n.Component),Y=(a(312),"http://54.84.55.238/eOrderButler/getAllShoppingOrders"),G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("h1",null,this.props.text),r.a.createElement("button",{className:"closeit",onClick:this.props.closePopup},"Back to Home")))}}]),a}(r.a.Component),K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleClose=function(){g.a.get(Y,{headers:U()}).then((function(e){console.log(e),n.setState({PostData:e.data.sort((function(e,t){return t.date-e.date}))})})).catch((function(e){console.log(e)})),n.setState({showPopup:!n.state.showPopup})},n.loadInfoAdd=function(e){console.log("we are adding"),console.log(e);g()({method:"post",url:"http://54.84.55.238/eOrderButler/addShoppingOrder",headers:Object(H.a)(Object(H.a)({},U()),{},{"Content-Type":"text/plain"}),data:e}).then((function(e){console.log(e),n.setState({showPopup:!0})})).catch((function(e){console.log(e)}))},n.loadInfoSearch=function(e){g.a.get("http://54.84.55.238/eOrderButler/search/"+e,{headers:U()}).then((function(e){console.log(e),n.setState({PostData:e.data.sort((function(e,t){return t.date-e.date}))})})).catch((function(e){console.log(e)}))},n.handlePressEnter=function(e){n.loadInfoSearch(e)},n.handleAddTodo=function(e){n.loadInfoAdd(e)},n.state={PostData:[],showPopup:!1},n.handleAddTodo=n.handleAddTodo.bind(Object(i.a)(n)),n.handlePressEnter=n.handlePressEnter.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"componentDidMount",value:function(){var e=Object(J.a)(_.a.mark((function e(){var t=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(Y,{headers:U()}).then((function(e){t.setState({PostData:e.data.sort((function(e,t){return t.date-e.date}))})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"app"},this.state.showPopup?r.a.createElement(G,{text:"Congrats! You just added your order. (\u25d5\u203f\u25d5\u273f)",closePopup:this.toggleClose.bind(this)}):null),r.a.createElement(W,{className:"search",handlePressEnter:this.handlePressEnter}),r.a.createElement("div",{className:"dataview"},r.a.createElement($,{PostData:this.state.PostData})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"add"},r.a.createElement(q,{handleAddTodo:this.handleAddTodo})))}}]),a}(r.a.Component),Q=(a(313),a(148)),V=a(344),X=a(354),Z=a(356),ee=a(355),te=a(348),ae=a(350),ne=a(346),re=a(351),le=a(349),se=a(345),oe=a(347),ce=a(352),ie=a(146),ue=a.n(ie),me=a(145),de=a.n(me),he=Object(V.a)({root:{"& > *":{borderBottom:"unset"}}});function pe(e){var t=e.row,a=r.a.useState(!1),n=Object(Q.a)(a,2),l=n[0],s=n[1],o=he();return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{className:o.root},r.a.createElement(ne.a,null,r.a.createElement(ee.a,{"aria-label":"expand row",size:"small",onClick:function(){return s(!l)}},l?r.a.createElement(de.a,null):r.a.createElement(ue.a,null))),r.a.createElement(ne.a,{align:"right"},new Date(t.date).toISOString().slice(0,10)),r.a.createElement(ne.a,{align:"right"},t.merchant),r.a.createElement(ne.a,{align:"right"},t.orderNumber),r.a.createElement(ne.a,{align:"right"},t.totalPrice),r.a.createElement(ne.a,{align:"right"},t.status)),r.a.createElement(se.a,null,r.a.createElement(ne.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},r.a.createElement(Z.a,{in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(X.a,{margin:1},r.a.createElement(oe.a,{variant:"h6",gutterBottom:!0,component:"div"},"Items Details"),r.a.createElement(te.a,{size:"small","aria-label":"purchases"},r.a.createElement(le.a,null,r.a.createElement(se.a,null,r.a.createElement(ne.a,null,"Item"),r.a.createElement(ne.a,null,"Status"),r.a.createElement(ne.a,{align:"right"},"Amount"),r.a.createElement(ne.a,{align:"right"},"Total Price ($)"))),r.a.createElement(ae.a,null,t.items.map((function(e){return r.a.createElement(se.a,{key:e.itemId},r.a.createElement(ne.a,{component:"th",scope:"row"},e.itemName),r.a.createElement(ne.a,null,e.status),r.a.createElement(ne.a,{align:"right"},e.quantity),r.a.createElement(ne.a,{align:"right"},e.price))})))))))))}var ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.PostData;return r.a.createElement(re.a,{component:ce.a},r.a.createElement(te.a,{"aria-label":"collapsible table"},r.a.createElement(le.a,null,r.a.createElement(se.a,null,r.a.createElement(ne.a,null),r.a.createElement(ne.a,{align:"right"},"Date"),r.a.createElement(ne.a,{align:"right"},"Merchant"),r.a.createElement(ne.a,{align:"right"},"Order Number"),r.a.createElement(ne.a,{align:"right"},"Total Price ($)"),r.a.createElement(ne.a,{align:"right"},"Status"))),r.a.createElement(ae.a,null,e.map((function(e){return r.a.createElement(pe,{key:e.name,row:e})})))))}}]),a}(r.a.Component),Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handlePressEnter=function(e){n.loadInfo(e)},n.loadInfo=function(e){g.a.get("http://54.84.55.238/eOrderButler/search/"+e,{headers:U()}).then((function(e){n.setState({PostData:e.data.sort((function(e,t){return t.date-e.date}))})})).catch((function(e){console.log(e)}))},n.state={PostData:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(J.a)(_.a.mark((function e(){var t=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("http://54.84.55.238/eOrderButler/getAllShoppingOrders",{headers:U()}).then((function(e){console.log(e),t.setState({PostData:e.data.sort((function(e,t){return t.date-e.date}))})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(W,{handlePressEnter:this.handlePressEnter}),r.a.createElement("div",null,r.a.createElement(ge,{PostData:this.state.PostData})))}}]),a}(r.a.Component),ve=a(147),fe=a.n(ve),be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).logOut=n.logOut.bind(Object(i.a)(n)),n.state={showModeratorBoard:!1,showAdminBoard:!1,currentUser:void 0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=v.getCurrentUser();e&&this.setState({currentUser:e,showModeratorBoard:e.roles.includes("ROLE_MODERATOR"),showAdminBoard:e.roles.includes("ROLE_ADMIN")})}},{key:"logOut",value:function(){v.logout()}},{key:"render",value:function(){var e=this.state,t=e.currentUser,a=e.showModeratorBoard,n=e.showAdminBoard;return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},r.a.createElement("img",{src:fe.a,className:"App-logo",alt:"logo"}),r.a.createElement(d.b,{to:"/home",className:"navbar-brand"},"EOrderButler"),r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/main",className:"nav-link"}," Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/detail",className:"nav-link"}," Details"))),a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/mod",className:"nav-link"},"Moderator Board")),n&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/admin",className:"nav-link"},"Admin Board"))),t?r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/profile",className:"nav-link"},t.username)),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/login",className:"nav-link",onClick:this.logOut},"LogOut"))):r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/login",className:"nav-link"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/register",className:"nav-link"},"Sign Up")))),r.a.createElement("div",{className:"container mt-3"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:["/","/home"],component:R}),r.a.createElement(h.a,{exact:!0,path:"/login",component:k}),r.a.createElement(h.a,{exact:!0,path:"/register",component:A}),r.a.createElement(h.a,{exact:!0,path:"/profile",component:L}),r.a.createElement(h.a,{path:"/main",component:K}),r.a.createElement(h.a,{path:"/detail",component:Ee})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[156,1,2]]]);
//# sourceMappingURL=main.a41194be.chunk.js.map